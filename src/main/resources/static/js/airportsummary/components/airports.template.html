<!--
  ~ PilotLog
  ~
  ~ Copyright Â© 2018 Richard Senior
  ~
  ~ This program is free software: you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation, either version 3 of the License, or
  ~ (at your option) any later version.
  ~
  ~ This program is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with this program.  If not, see <http://www.gnu.org/licenses/>.
  -->

<div class="airports">
    <table class="log">
        <thead>
            <tr class="main">
                <th colspan="2">Airport</th>
                <th colspan="3">Aircraft Movements</th>
            </tr>
            <tr>
                <th style="width: 10ex"><a ng-click="$ctrl.clickHeading('last')">Recent</a></th>
                <th style="width: 20ex"><a ng-click="$ctrl.clickHeading('icao')">ICAO</a></th>
                <th style="width:  6ex"><a ng-click="$ctrl.clickHeading('departures')">Dep</a></th>
                <th style="width:  6ex"><a ng-click="$ctrl.clickHeading('arrivals')">Arr</a></th>
                <th style="width:  6ex"><a ng-click="$ctrl.clickHeading('movements')">Tot</a></th>
            </tr>
        </thead>
        <tbody ng-show="$ctrl.content.length == 0">
            <tr>
                <td colspan="5">No flights</td>
            </tr>
        </tbody>
        <tbody ng-show="$ctrl.content.length > 0">
            <tr ng-repeat="airport in $ctrl.content" class="COMPLETE">
                <td>{{airport.last | date:'dd/MM/yy'}}</td>
                <td>{{airport.icao}}</td>
                <td>{{airport.departures}}</td>
                <td>{{airport.arrivals}}</td>
                <td>{{airport.movements}}</td>
            </tr>
        </tbody>
        <tfoot>
            <tr>
                <td colspan="2" class="footerTitle">Page Total</td>
                <td class="written">{{$ctrl.totals.departures.pageTotal}}</td>
                <td class="written">{{$ctrl.totals.arrivals.pageTotal}}</td>
                <td class="written">{{$ctrl.totals.movements.pageTotal}}</td>
            </tr>
            <tr>
                <td colspan="2" class="footerTitle">Other Total</td>
                <td class="written">{{$ctrl.totals.departures.otherTotal}}</td>
                <td class="written">{{$ctrl.totals.arrivals.otherTotal}}</td>
                <td class="written">{{$ctrl.totals.movements.otherTotal}}</td>
            </tr>
            <tr>
                <td colspan="2" class="footerTitle">GRAND TOTAL</td>
                <td class="written">{{$ctrl.totals.departures.total}}</td>
                <td class="written">{{$ctrl.totals.arrivals.total}}</td>
                <td class="written">{{$ctrl.totals.movements.total}}</td>
            </tr>
        </tfoot>
    </table>
</div>
